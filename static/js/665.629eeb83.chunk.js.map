{"version":3,"file":"static/js/665.629eeb83.chunk.js","mappings":"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","sources":["pages/ShopPage/ShopPage.styled.jsx","components/ShopsList/ShopsList.styled.jsx","components/ShopListItem/ShopListItem.styled.jsx","components/ShopListItem/ShopListItem.jsx","components/ShopsList/ShopsList.jsx","components/MenuList/MenuList.styled.jsx","components/MenuItem/MenuItem.styled.jsx","components/MenuItem/MenuItem.jsx","components/MenuList/MenuList.jsx","pages/ShopPage/ShopPage.jsx"],"sourcesContent":["\r\nimport styled from '@emotion/styled';\r\n\r\nexport const ShopPageStyled = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 10px 20px 20px 20px;\r\n`;","import styled from '@emotion/styled';\r\n\r\nexport const ShopsListStyled = styled.div`\r\n    min-width: 182px;\r\n    height: calc(100vh - 140px);\r\n\r\n    padding: 24px 40px;\r\n    border: 1px solid #949292;\r\n    border-radius: 10px;\r\n\r\n    background-color: #f3f3f3;\r\n\r\n    h2 {\r\n        margin-bottom: 20px;\r\n        text-align: center;\r\n    }\r\n`;","import styled from '@emotion/styled';\r\n\r\nexport const ShopItemStyled = styled.li`\r\n    border: 1px solid #949292;\r\n    border-radius: 5px;\r\n\r\n    overflow: hidden;\r\n\r\n    :not(:last-child) {\r\n        margin-bottom: 16px;\r\n    }\r\n\r\n    \r\n`;\r\n\r\nexport const ButtonStyled = styled.button`\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 16px 30px;\r\n    border: none;\r\n    background-color: ${p => p.isActive ? \"#d1d0d5\" : \"#ffffff\"};\r\n\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n\r\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1); \r\n\r\n    :hover:not(.active),\r\n    :focus:not(.active) {        \r\n        background-color: #d1d0d5;\r\n    }\r\n`;","import React from 'react'\r\nimport { ShopItemStyled, ButtonStyled } from './ShopListItem.styled'\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst ShopListItem = ({ shop, setCurrentShopId, currentShopId }) => {\r\n    const cartShopId = useSelector(state => state.cart.shopId);\r\n\r\n    const isDisabled = cartShopId !== \"\" && cartShopId !== shop._id;\r\n    return (\r\n        <ShopItemStyled onClick={() => setCurrentShopId(shop._id)}>\r\n            <ButtonStyled\r\n                type='button'\r\n                isActive={currentShopId === shop._id}\r\n                disabled={isDisabled}\r\n            >\r\n                {shop.shopname}\r\n            </ButtonStyled>\r\n        </ShopItemStyled>\r\n    )\r\n};\r\n\r\nexport default ShopListItem","import { useSelector } from 'react-redux';\r\n\r\nimport { ShopsListStyled } from './ShopsList.styled';\r\nimport ShopListItem from 'components/ShopListItem/ShopListItem';\r\n\r\n\r\nconst ShopsList = ({setCurrentShopId, currentShopId}) => {    \r\n    const shopsList = useSelector(state => state.shops.shops);\r\n    const isLoading = useSelector(state => state.shops.isLoading);\r\n\r\n    // console.log(shopsList);\r\n    \r\n    return (\r\n        <ShopsListStyled>\r\n            <h2>Shops</h2>\r\n            {\r\n                isLoading ? \"Loading shops...\" :\r\n                    <ul>\r\n                        {shopsList?.map(shop =>\r\n                            <ShopListItem\r\n                                key={shop._id}\r\n                                shop={shop}\r\n                                currentShopId={currentShopId}\r\n                                setCurrentShopId={setCurrentShopId}\r\n                            />                            \r\n                        )}                \r\n                    </ul>\r\n            }                        \r\n        </ShopsListStyled>\r\n    )\r\n};\r\n\r\nexport default ShopsList;","\r\nimport styled from '@emotion/styled';\r\n\r\nexport const MenuListStyled = styled.div`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    gap: 20px;\r\n    width: calc(100% - 360px);\r\n    height: calc(100vh - 140px);\r\n\r\n    padding: 24px 40px;\r\n    border: 1px solid #949292;\r\n    border-radius: 10px;\r\n\r\n    background-color: #f3f3f3;\r\n\r\n    overflow-y: scroll;\r\n`;","\r\nimport styled from '@emotion/styled';\r\n\r\nexport const MenuItemStyled = styled.li`\r\n    /* height: 100%; */\r\n    padding: 16px 16px;\r\n\r\n    border: 1px solid #949292;\r\n    border-radius: 5px;\r\n\r\n    background-color: #ffffff;\r\n\r\n    button {\r\n        display: block;\r\n        width: 200px;        \r\n        margin-left: auto;\r\n        \r\n        padding: 12px 0;\r\n\r\n        border-radius: 10px;\r\n        border: none;\r\n        background-color: #939191;\r\n\r\n        font-size: 20px;\r\n        color: #ffffff;\r\n        cursor: pointer;\r\n\r\n        transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n        :hover,\r\n        :focus {        \r\n            transform: scale(1.05);\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ImageThumbStyled = styled.div`\r\n    width: 350px;\r\n    height: 200px;\r\n    margin-bottom: 16px;\r\n    border-radius: 5px;\r\n    \r\n    overflow: hidden;\r\n\r\n    img {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n`;\r\n\r\nexport const TitleThumbStyled = styled.div`\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin-bottom: 16px;\r\n`;","import React, { useEffect, useState } from 'react'\r\nimport { MenuItemStyled, ImageThumbStyled, TitleThumbStyled } from './MenuItem.styled'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { removeDish, setDishes, setShopId } from 'redux/operations';\r\n\r\nconst MenuItem = ({ dish, currentShopId }) => {\r\n  const dispatch = useDispatch();\r\n  const dishesFromCart = useSelector(state => state.cart.dishes);\r\n  const [isInCart, setIsInCart] = useState(false);\r\n \r\n\r\n  useEffect(() => { \r\n    const i = dishesFromCart.findIndex(({ _id }) => _id === dish._id);\r\n    if (i !== -1) setIsInCart(true);\r\n \r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dishesFromCart]);\r\n\r\n  const handleAddToCart = () => {\r\n    const dishWithCount = {...dish, quantity: 1}\r\n    dispatch(setDishes(dishWithCount));\r\n    dispatch(setShopId(currentShopId));\r\n  }\r\n\r\n  const handleRemoveFromCart = () => {\r\n    if (dishesFromCart.length === 1) dispatch(setShopId(\"\"));\r\n    dispatch(removeDish(dish._id));\r\n    setIsInCart(false);\r\n  }\r\n  \r\n  const { dishName, price, img} = dish;\r\n  return (\r\n    <MenuItemStyled>\r\n      <ImageThumbStyled>\r\n        <img src={img} alt=\"burger\" width={350} height={200} />\r\n      </ImageThumbStyled>\r\n\r\n      <TitleThumbStyled>\r\n        <h3>{dishName}</h3>\r\n        <p>Price: <strong>{price} $</strong></p>\r\n      </TitleThumbStyled>\r\n      \r\n      {\r\n        !isInCart ?\r\n          <button type='button' onClick={handleAddToCart}>add to Cart</button> :\r\n          <button type='button' onClick={handleRemoveFromCart}>remove from Cart</button>\r\n    }\r\n      \r\n      \r\n    </MenuItemStyled>\r\n  )\r\n}\r\n\r\nexport default MenuItem","import React from 'react';\r\nimport { MenuListStyled } from './MenuList.styled';\r\nimport { useSelector } from 'react-redux';\r\nimport MenuItem from 'components/MenuItem/MenuItem';\r\n\r\nconst MenuList = ({ currentShopId }) => {\r\n    const shopsList = useSelector(state => state.shops.shops);\r\n\r\n    const currentMenu = shopsList.find(({ _id }) => _id === currentShopId)?.menu;\r\n\r\n    return (\r\n        <MenuListStyled>\r\n            {!currentShopId ? \"Choose Shop\" :\r\n                currentMenu?.map(dish =>\r\n                    <MenuItem\r\n                        key={dish._id}\r\n                        dish={dish}\r\n                        currentShopId={currentShopId}\r\n                    />\r\n                )}           \r\n        </MenuListStyled>\r\n    )\r\n};\r\n\r\nexport default MenuList;","import React, { useEffect, useState } from 'react'\r\nimport { ShopPageStyled } from './ShopPage.styled';\r\nimport ShopsList from 'components/ShopsList/ShopsList';\r\nimport MenuList from 'components/MenuList/MenuList';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getShops } from 'redux/operations';\r\n\r\nconst ShopPage = () => {\r\n  const dispatch = useDispatch();\r\n  const [currentShopId, setCurrentShopId] = useState(null);\r\n  const shopsList = useSelector(state => state.shops.shops);\r\n  const cartShopId = useSelector(state => state.cart.shopId);\r\n\r\n  useEffect(() => {       \r\n    dispatch(getShops()); \r\n    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  useEffect(() => { \r\n    if (cartShopId !== \"\") {\r\n      setCurrentShopId(cartShopId);\r\n    } else {\r\n      setCurrentShopId(shopsList[0]?._id);\r\n    }\r\n    \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [shopsList]);\r\n\r\n  return (\r\n    <ShopPageStyled>\r\n      <ShopsList setCurrentShopId={setCurrentShopId} currentShopId={currentShopId} />\r\n      <MenuList currentShopId={currentShopId} />\r\n    </ShopPageStyled>\r\n  )\r\n}\r\n\r\nexport default ShopPage;"],"names":["ShopPageStyled","styled","_templateObject","_taggedTemplateLiteral","ShopsListStyled","ShopItemStyled","ButtonStyled","_templateObject2","p","isActive","_ref","shop","setCurrentShopId","currentShopId","cartShopId","useSelector","state","cart","shopId","isDisabled","_id","_jsx","onClick","children","type","disabled","shopname","shopsList","shops","isLoading","_jsxs","map","ShopListItem","MenuListStyled","MenuItemStyled","ImageThumbStyled","TitleThumbStyled","_templateObject3","dish","dispatch","useDispatch","dishesFromCart","dishes","_useState","useState","_useState2","_slicedToArray","isInCart","setIsInCart","useEffect","findIndex","_ref2","dishName","price","img","src","alt","width","height","length","setShopId","removeDish","dishWithCount","_objectSpread","quantity","setDishes","_shopsList$find","currentMenu","find","menu","MenuItem","getShops","_shopsList$","ShopsList","MenuList"],"sourceRoot":""}